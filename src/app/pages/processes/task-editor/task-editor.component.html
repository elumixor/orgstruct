<div class="container"
     @appear>
    <app-button class="close-button m-5"
                (click)="closed.emit()">Close</app-button>

    <div class="content block white"
         [appContextMenu]="contextOptions">
        <app-with-icon class="h4"
                       icon="task.svg"
                       color="white">
            <app-editable [(text)]="task.title" />
        </app-with-icon>

        <app-editable [(text)]="task.description" />

        <div class="vspace-10"></div>

        <div class="grid">
            <div>
                <app-with-icon icon="input.svg"
                               size="12px">
                    <p class="section-header">Dependencies</p>
                </app-with-icon>

                @if (task.dependencies.nonEmpty) {
                @for (dependency of task.dependencies; track $index) {
                <div class="block">{{dependency}}</div>
                }
                } @else {
                <app-button (clicked)="addDependency()">Add Dependency</app-button>
                }
            </div>

            <div>
                <app-with-icon icon="event.svg"
                               size="12px">
                    <p class="section-header">Events</p>
                </app-with-icon>

                @if (task.events.nonEmpty) {
                @for (event of task.events; track $index) {
                <div class="block">{{event.title}}</div>
                }
                } @else {
                <app-button (clicked)="addEvent()">Add Event</app-button>
                }
            </div>

            <div>
                <app-with-icon icon="output.svg"
                               size="12px">
                    <p class="section-header">Outputs</p>
                </app-with-icon>

                @if (task.outputs.nonEmpty) {
                @for (output of task.outputs; track $index) {
                <div class="block">{{output.product}}</div>
                }
                } @else {
                <app-button (clicked)="addOutput()">Add Output</app-button>
                }
            </div>
        </div>
    </div>
</div>